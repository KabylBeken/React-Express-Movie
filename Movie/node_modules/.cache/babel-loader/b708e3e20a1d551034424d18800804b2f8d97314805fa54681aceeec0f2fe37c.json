{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aser\\\\Downloads\\\\React\\\\Movie\\\\src\\\\CreateMovie.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { setMovie, getAllCategories } from './api';\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CreateMovie() {\n  _s();\n  const navigate = useNavigate();\n  const [title, setTitle] = useState('');\n  const [price, setPrice] = useState('');\n  const [content, setContent] = useState('');\n  const [categories, setCategories] = useState([]);\n  const [selectedCategory, setSelectedCategory] = useState('');\n  const [photo, setPhoto] = useState(null);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append('title', title);\n    formData.append('price', price);\n    formData.append('content', content);\n    formData.append('categoryId', selectedCategory);\n    if (photo) {\n      formData.append('photo', photo);\n    }\n    const {\n      success,\n      data\n    } = await setMovie(formData);\n    if (success) {\n      navigate('/admin/movies', {\n        state: {\n          message: \"Movie added!\"\n        }\n      });\n    } else {\n      toast(\"Movie not added!\");\n    }\n  };\n  useEffect(() => {\n    const loadCategories = async () => {\n      const cats = await getAllCategories();\n      setCategories(cats);\n      if (cats.length > 0) {\n        setSelectedCategory(cats[0].id);\n      }\n    };\n    loadCategories();\n  }, []);\n  const handlePhotoChange = e => {\n    setPhoto(e.target.files[0]);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Create Movie\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"title\",\n          className: \"form-label\",\n          children: \"Title:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"title\",\n          className: \"form-control\",\n          value: title,\n          onChange: e => setTitle(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"price\",\n          className: \"form-label\",\n          children: \"Price:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          id: \"price\",\n          className: \"form-control\",\n          value: price,\n          onChange: e => setPrice(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"content\",\n          className: \"form-label\",\n          children: \"Content:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"content\",\n          className: \"form-control\",\n          value: content,\n          onChange: e => setContent(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"category\",\n          className: \"form-label\",\n          children: \"Category:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"category\",\n          className: \"form-control\",\n          value: selectedCategory,\n          onChange: e => setSelectedCategory(e.target.value),\n          required: true,\n          children: categories.map(category => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: category.id,\n            children: category.name\n          }, category.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"photo\",\n          className: \"form-label\",\n          children: \"Photo:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          id: \"photo\",\n          className: \"form-control\",\n          onChange: handlePhotoChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        children: \"Create\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n}\n_s(CreateMovie, \"h1PqRhJEl6SSGzZmhNypw+iSUSQ=\", false, function () {\n  return [useNavigate];\n});\n_c = CreateMovie;\nexport default CreateMovie;\nvar _c;\n$RefreshReg$(_c, \"CreateMovie\");","map":{"version":3,"names":["useState","useEffect","setMovie","getAllCategories","Link","useNavigate","ToastContainer","toast","jsxDEV","_jsxDEV","CreateMovie","_s","navigate","title","setTitle","price","setPrice","content","setContent","categories","setCategories","selectedCategory","setSelectedCategory","photo","setPhoto","handleSubmit","e","preventDefault","formData","FormData","append","success","data","state","message","loadCategories","cats","length","id","handlePhotoChange","target","files","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","type","value","onChange","required","map","category","name","_c","$RefreshReg$"],"sources":["C:/Users/aser/Downloads/React/Movie/src/CreateMovie.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { setMovie, getAllCategories } from './api';\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nfunction CreateMovie() {\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const [title, setTitle] = useState('');\r\n    const [price, setPrice] = useState('');\r\n    const [content, setContent] = useState('');\r\n    const [categories, setCategories] = useState([]);\r\n    const [selectedCategory, setSelectedCategory] = useState('');\r\n    const [photo, setPhoto] = useState(null);\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        const formData = new FormData();\r\n        formData.append('title', title);\r\n        formData.append('price', price);\r\n        formData.append('content', content);\r\n        formData.append('categoryId', selectedCategory);\r\n        if (photo) {\r\n            formData.append('photo', photo);\r\n        }\r\n\r\n        const { success, data } = await setMovie(formData);\r\n        if (success) {\r\n            navigate('/admin/movies', { state: { message: \"Movie added!\" } });\r\n        } else {\r\n            toast(\"Movie not added!\");\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        const loadCategories = async () => {\r\n            const cats = await getAllCategories();\r\n            setCategories(cats);\r\n            if (cats.length > 0) {\r\n                setSelectedCategory(cats[0].id);\r\n            }\r\n        };\r\n        loadCategories();\r\n    }, []);\r\n\r\n    const handlePhotoChange = (e) => {\r\n        setPhoto(e.target.files[0]);\r\n    };\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <ToastContainer />\r\n            <h2>Create Movie</h2>\r\n            <form onSubmit={handleSubmit}>\r\n                <div className=\"mb-3\">\r\n                    <label htmlFor=\"title\" className=\"form-label\">Title:</label>\r\n                    <input type=\"text\" id=\"title\" className=\"form-control\" value={title} onChange={(e) => setTitle(e.target.value)} required />\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                    <label htmlFor=\"price\" className=\"form-label\">Price:</label>\r\n                    <input type=\"number\" id=\"price\" className=\"form-control\" value={price} onChange={(e) => setPrice(e.target.value)} required />\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                    <label htmlFor=\"content\" className=\"form-label\">Content:</label>\r\n                    <input type=\"text\" id=\"content\" className=\"form-control\" value={content} onChange={(e) => setContent(e.target.value)} required />\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                    <label htmlFor=\"category\" className=\"form-label\">Category:</label>\r\n                    <select id=\"category\" className=\"form-control\" value={selectedCategory} onChange={(e) => setSelectedCategory(e.target.value)} required>\r\n                        {categories.map(category => (\r\n                            <option key={category.id} value={category.id}>{category.name}</option>\r\n                        ))}\r\n                    </select>\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                    <label htmlFor=\"photo\" className=\"form-label\">Photo:</label>\r\n                    <input type=\"file\" id=\"photo\" className=\"form-control\" onChange={handlePhotoChange} />\r\n                </div>\r\n                <button type=\"submit\" className=\"btn btn-primary\">Create</button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CreateMovie;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}